<div ng-controller="GraphsController" data-ng-init="init()">
    <label class="checkbox">
        <input title="Apply zoom to all graphs" type="checkbox" ng-model="zoomLock">
        Zoom lock
    </label>
    <tabset>
        <tab data-ng-repeat="tag in tags" heading="{{tag.text}}" data-ng-model="value"  disabled="tag.disabled" active="isActive(tag.text)" ui-sref="viewGraphs(tag.route)" >
        </tab>
    </tabset>
    <accordion close-others="false">
        <div data-ng-repeat="metric in metrics | tagsFilter:'tags':value" data-ng-controller="HighchartsController">
            <accordion-group is-open="metric.isOpen" >
                <accordion-heading><div>{{metric.alias}}</div></accordion-heading>
                <div data-ng-init="initConfig(chart, metric)" ng-if="metric.isOpen">
                    <span><button ng-click="setMetricShareUrl(metric._id)">Share graph URL</button></span>
                    <span><input id="metricShareUrl" ng-model="metricShareUrl" ng-if="showUrl" style="width:50%;"autofocus/></span>
                    <highchart id="chart1" config="config"></highchart>
                </div>
            </accordion-group>
        </div>
    </accordion>
</div>
